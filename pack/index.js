!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=160)}([function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(72),u=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,u.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(57)("wks"),i=n(37),u=n(4).Symbol,o="function"==typeof u;(t.exports=function(t){return r[t]||(r[t]=o&&u[t]||(o?u:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(38)),i=c(n(14)),u=c(n(2)),o=c(n(34)),s=c(n(1)),a=c(n(29));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t,n){(0,u.default)(this,e);var i=(0,o.default)(this,(e.__proto__||(0,r.default)(e)).call(this,n));return i.name="Warp Server Error",i.code=t,i}return(0,a.default)(e,t),(0,s.default)(e,[{key:"status",get:function(){return this.code===this.constructor.Code.InvalidCredentials||this.code===this.constructor.Code.InvalidSessionToken||this.code===this.constructor.Code.UsernameTaken||this.code===this.constructor.Code.EmailTaken?this.constructor.Status.Unauthorized:this.code===this.constructor.Code.ForbiddenOperation?this.constructor.Status.Forbidden:this.code===this.constructor.Code.ModelNotFound||this.code===this.constructor.Code.FunctionNotFound?this.constructor.Status.NotFound:this.code===this.constructor.Code.RequestTimeout?this.constructor.Status.RequestTimeout:this.code===this.constructor.Code.TooManyRequests?this.constructor.Status.TooManyRequests:this.constructor.Status.ServerError}}],[{key:"Code",get:function(){return(0,i.default)({MissingConfiguration:300,InternalServerError:100,QueryError:101,InvalidCredentials:102,InvalidSessionToken:103,InvalidObjectKey:104,InvalidPointer:105,ForbiddenOperation:106,UsernameTaken:107,EmailTaken:108,InvalidAPIKey:109,ModelNotFound:110,FunctionNotFound:111,RequestTimeout:112,FunctionError:113,TooManyRequests:114,DatabaseError:115})}},{key:"Status",get:function(){return(0,i.default)({ServerError:400,Unauthorized:401,Forbidden:403,NotFound:404,RequestTimeout:408,TooManyRequests:429})}}]),e}(Error);e.default=f},function(t,e,n){var r=n(4),i=n(0),u=n(19),o=n(16),s=function(t,e,n){var a,c,f,l=t&s.F,d=t&s.G,h=t&s.S,p=t&s.P,v=t&s.B,y=t&s.W,_=d?i:i[e]||(i[e]={}),m=_.prototype,g=d?r:h?r[e]:(r[e]||{}).prototype;for(a in d&&(n=e),n)(c=!l&&g&&void 0!==g[a])&&a in _||(f=c?g[a]:n[a],_[a]=d&&"function"!=typeof g[a]?n[a]:v&&c?u(f,r):y&&g[a]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):p&&"function"==typeof f?u(Function.call,f):f,p&&((_.virtual||(_.virtual={}))[a]=f,t&s.R&&m&&!m[a]&&o(m,a,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(42),u=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){return function(){var e=t.apply(this,arguments);return new u.default(function(t,n){return function r(i,o){try{var s=e[i](o),a=s.value}catch(t){return void n(t)}if(!s.done)return u.default.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)});t(a)}("next")})}}},function(t,e,n){t.exports=n(116)},function(t,e,n){t.exports=!n(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(7),i=n(83),u=n(55),o=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=u(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Defaults=e.InternalKeys=void 0;var r,i=n(14),u=(r=i)&&r.__esModule?r:{default:r};var o=e.InternalKeys=(0,u.default)({Id:"id",Timestamps:(0,u.default)({CreatedAt:"created_at",UpdatedAt:"updated_at",DeletedAt:"deleted_at"}),Auth:(0,u.default)({User:"user",Username:"username",Email:"email",Password:"password",Session:"session",Origin:"origin",SessionToken:"session_token",RevokedAt:"revoked_at"}),Pointers:(0,u.default)({LegacyClassName:"className",ClassName:"class_name",Attributes:"attributes"})});e.Defaults=(0,u.default)({Query:(0,u.default)({Sort:[o.Id],Skip:0,Limit:100})})},function(t,e,n){t.exports={default:n(130),__esModule:!0}},function(t,e,n){var r=n(77),i=n(59);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(12),i=n(23);t.exports=n(10)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(35);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(78),i=n(50);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(59);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=k(n(71)),i=k(n(122)),u=k(n(44)),o=k(n(117)),s=k(n(9)),a=k(n(8)),c=k(n(27)),f=k(n(54)),l=k(n(2)),d=k(n(1)),h=(0,c.default)([""," as a number"],[""," as a number"]),p=(0,c.default)([""," as a string"],[""," as a string"]),v=k(n(26)),y=k(n(5)),_=n(13),m=k(n(62)),g=n(39);function k(t){return t&&t.__esModule?t:{default:t}}var b=function(){function t(){if((0,l.default)(this,t),this._keyMap=new m.default,this._isDirty=!1,arguments.length>0){if("string"==typeof(arguments.length<=0?void 0:arguments[0])){if(void 0!==this.className)throw new y.default(y.default.Code.ForbiddenOperation,"A className has already been defined for the Warp Object");if(this._className=arguments.length<=0?void 0:arguments[0],arguments.length>1&&"object"===(0,f.default)(arguments.length<=1?void 0:arguments[1])&&null!==(arguments.length<=1?void 0:arguments[1])){var e=arguments.length<=1?void 0:arguments[1];this._setKeys(e),this._isDirty=!0}}else if("object"===(0,f.default)(arguments.length<=0?void 0:arguments[0])&&null!==(arguments.length<=1?void 0:arguments[1])){if(void 0===this.className)throw new y.default(y.default.Code.MissingConfiguration,"Only extended Warp Objects can have keys as the first argument");var n=arguments.length<=0?void 0:arguments[0];this._setKeys(n),this._isDirty=!0}}else if(void 0===this.className)throw new y.default(y.default.Code.MissingConfiguration,"The parameters for Warp Object are invalid")}return(0,d.default)(t,[{key:"_setKeys",value:function(t){for(var e in t)this.set(e,t[e])}},{key:"set",value:function(e,n){if(_.InternalKeys.Id===e||_.InternalKeys.CreatedAt===e||_.InternalKeys.UpdatedAt===e||_.InternalKeys.DeletedAt===e)throw new y.default(y.default.Code.ForbiddenOperation,"Cannot manually set `"+e+"` because it is an internal key");if("object"===(void 0===n?"undefined":(0,f.default)(n))&&null!==n&&n instanceof t){if(n.id<=0)throw new y.default(y.default.Code.ForbiddenOperation,"Cannot set `"+e+"` as a pointer because it is unsaved, please save it before using");this._keyMap.set(e,n.toPointer().toJSON())}else n instanceof Date?this._keyMap.set(e,(0,g.toDatabaseDate)(n)):this._keyMap.set(e,n);this._isDirty=!0}},{key:"get",value:function(t){if(_.InternalKeys.Id===t||_.InternalKeys.CreatedAt===t||_.InternalKeys.UpdatedAt===t||_.InternalKeys.DeletedAt===t)throw new y.default(y.default.Code.ForbiddenOperation,"Cannot manually get `"+t+"` because it is an internal key");var e=this._keyMap.get(t);return this.constructor.pointerIsImplementedBy(e)?this.constructor.toObject(e):this.constructor.specialsIsImplementedBy(e)?void 0:e}},{key:"increment",value:function(t,e){(0,v.default)(h,{value:e});var n={type:"Increment",value:e};this._keyMap.set(t,n)}},{key:"json",value:function(t){var e=this._keyMap;return{set:function(n,r){(0,v.default)(p,{path:n});var i={type:"SetJson",path:n,value:r};e.set(t,i)},append:function(n,r){(0,v.default)(p,{path:n});var i={type:"AppendJson",path:n,value:r};e.set(t,i)}}}},{key:"save",value:function(){var t=(0,a.default)(s.default.mark(function t(){var e,n,r,i,u,o;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._isDirty){t.next=2;break}return t.abrupt("return",this);case 2:return e=this.constructor._storage.get(_.InternalKeys.Auth.SessionToken),n=this.className,r=this._keyMap.toJSON(),i=this.id,t.next=8,this.constructor._http.save({sessionToken:e,className:n,keys:r,id:i});case 8:return u=t.sent,(o=new m.default(u)).remove(_.InternalKeys.Id),this._keyMap=o,this._isDirty=!1,t.abrupt("return",this);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"destroy",value:function(){var t=(0,a.default)(s.default.mark(function t(){var e,n,r,i,u;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.constructor._storage.get(_.InternalKeys.Auth.SessionToken),n=this.className,void 0!==(r=this.id)){t.next=5;break}throw new y.default(y.default.Code.ForbiddenOperation,"Cannot destroy an unsaved object");case 5:return t.next=7,this.constructor._http.destroy({sessionToken:e,className:n,id:r});case 7:return i=t.sent,(u=new m.default(i)).remove(_.InternalKeys.Id),this._keyMap=u,this._isDirty=!1,t.abrupt("return",this);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fetch",value:function(){var t=(0,a.default)(s.default.mark(function t(){var e,n,r,i,u;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.constructor._storage.get("sessionToken"),n=this.className,r=this.id,t.next=5,this.constructor._http.get({sessionToken:e,className:n,id:r});case 5:return i=t.sent,(u=new m.default(i)).remove(_.InternalKeys.Id),this._keyMap=u,t.abrupt("return",this);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"toPointer",value:function(){return this._isPointer=!0,this}},{key:"toJSON",value:function(){var t,e=this.id,n=this.createdAt,s=this.updatedAt,a={};if(this._isPointer)a=(0,o.default)({type:"Pointer"},this.constructor._supportLegacy?_.InternalKeys.Pointers.LegacyClassName:_.InternalKeys.Pointers.ClassName,this.className);else{var c=!0,f=!1,l=void 0;try{for(var d,h=(0,u.default)(this._keyMap.getAliases());!(c=(d=h.next()).done);c=!0){var p=d.value;if(_.InternalKeys.Timestamps.CreatedAt!==p&&_.InternalKeys.Timestamps.UpdatedAt!==p&&_.InternalKeys.Timestamps.DeletedAt!==p){var v=(0,i.default)(this.constructor.prototype,(0,g.toCamelCase)(p));if(v&&"function"==typeof v.get){var y=v.get.bind(this);a[p]=y()}else a[p]=this.get(p)}}}catch(t){f=!0,l=t}finally{try{!c&&h.return&&h.return()}finally{if(f)throw l}}}return(0,r.default)((0,o.default)({},_.InternalKeys.Id,e),a,(t={},(0,o.default)(t,_.InternalKeys.Timestamps.CreatedAt,n),(0,o.default)(t,_.InternalKeys.Timestamps.UpdatedAt,s),t))}},{key:"className",get:function(){return this._className}},{key:"id",get:function(){return this._id}},{key:"createdAt",get:function(){return this._keyMap.get(_.InternalKeys.Timestamps.CreatedAt)}},{key:"updatedAt",get:function(){return this._keyMap.get(_.InternalKeys.Timestamps.UpdatedAt)}},{key:"deletedAt",get:function(){return this._keyMap.get(_.InternalKeys.Timestamps.DeletedAt)}}],[{key:"initialize",value:function(t,e,n){return this._http=t,this._storage=e,this._supportLegacy=n,this}},{key:"createWithoutData",value:function(t,e){var n=new this(e);return n._id=t,n}},{key:"toObject",value:function(t){var e=t.id,n=t.attributes,r=this.createWithoutData(e);return void 0!==n&&(r._keyMap=new m.default(n)),r}},{key:"pointerIsImplementedBy",value:function(t){return null!==t&&("object"===(void 0===t?"undefined":(0,f.default)(t))&&("Pointer"===t.type&&!(t.id<=0)))}},{key:"specialsIsImplementedBy",value:function(t){return null!==t&&("object"===(void 0===t?"undefined":(0,f.default)(t))&&void 0!==t.type)}}]),t}();b._supportLegacy=!1,e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};const i={Void:t=>void 0===t,Null:t=>null===t,String:t=>"string"==typeof t,Number:t=>"number"==typeof t,Boolean:t=>typeof t==typeof!0,Array:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(t=>t instanceof Array),Object:t=>typeof t==typeof{}&&!(t instanceof Array),Function:t=>"function"==typeof t,Class:(t,e)=>t instanceof e},u={"an optional string":t=>i.Void(t)||i.String(t),"a string":t=>i.String(t),"an optional number":t=>i.Void(t)||i.Number(t),"a number":t=>i.Number(t),"an optional boolean":t=>i.Void(t)||i.Boolean(t),"a boolean":t=>i.Boolean(t),"an optional array":t=>i.Void(t)||i.Array(t),"an array":t=>i.Array(t),"an optional object":t=>i.Void(t)||i.Object(t),"an object":t=>i.Object(t),"any value":()=>!0,"a value":t=>!i.Void(t),"an optional function":t=>i.Void(t)||i.Function(t),"a function":t=>i.Function(t)},o=[[/^with \d{1,} to \d{1,} characters$/i,(t,e)=>{const n=parseInt(e.slice("with ".length-1,e.indexOf(" to"))),r=parseInt(e.slice(e.indexOf("to")+"to ".length));return t.length>=n&&t.length<=r}],[/^with \d{1,} or more characters$/i,(t,e)=>{const n=parseInt(e.slice("with ".length-1,e.indexOf(" to")));return t.length>=n}],[/^with up to \d{1,} characters$/i,(t,e)=>{const n=parseInt(e.slice("with ".length-1,e.indexOf(" to")));return t.length>=n}],[/^greater than \d{1,}/i,(t,e)=>{return t>e.slice(e.lastIndexOf(" ")+1)}],[/^greater than or equal to \d{1,}/i,(t,e)=>{return t>e.slice(e.lastIndexOf(" ")+1)}],[/^less than \d{1,}/i,(t,e)=>{return t<e.slice(e.lastIndexOf(" ")+1)}],[/^less than or equalt to \d{1,}/i,(t,e)=>{return t<=e.slice(e.lastIndexOf(" ")+1)}],[/^(and )?matches \/.{1,}\/[i,g]$/i,(t,e)=>{const n=e.slice(e.indexOf("/")+1,e.length-"/*".length),r=e.slice(-1);return!i.Null(t.match(new RegExp(n,r)))}]],s=(t,e,n)=>{var i=!0,u=!1,s=void 0;try{for(var a,c=Object.values(r({},o))[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){let t=a.value;if(t[0].test(n)){return(0,t[1])(e,n)}}}catch(t){u=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(u)throw s}}};class a extends Error{constructor(t,e){super(t),this.name=e}}e.ValidationError=a;class c extends Error{constructor(t,e){super(t),this.name=e}}e.FormatError=c;const f=(t,e)=>{const n=`'${t}' must be ${e.join(", ")}`;throw new a(n,t)},l=t=>{throw new c(`[EnforceJS] Format for parameter '${t}' is invalid`,t)},d=(t,...e)=>{const n=Object.keys(e[0])[0],r=Object.values(e[0])[0],o=t[1].trim().replace("as ","").split(",").map(t=>t.trim());if(3===t.length){("a"!==o[0]&&"an"!==o[0]||1===e.length)&&l(n);const t=[[o[0],Object.keys(e[1])[0]].join(" ")],u=Object.values(e[1])[0];return i.Class(r,u)?void 0:f(n,t)}const a=u[o[0]];if(i.Void(a)&&l(n),a(r)||f(n,o),!i.Void(r))for(let t=1;t<o.length;t++){let e=o[t],a=u[e];if(i.Void(a)){const t=s(0,r,e);i.Void(t)&&l(n),!1===t&&f(n,o)}}};d.extend=((t,e)=>{o.push([t,e])}),e.default=d},function(t,e,n){"use strict";e.__esModule=!0;var r=u(n(133)),i=u(n(14));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){return(0,i.default)((0,r.default)(t,{raw:{value:(0,i.default)(e)}}))}},function(t,e,n){t.exports={default:n(134),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(141)),i=o(n(137)),u=o(n(54));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,u.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(12).f,i=n(17),u=n(3)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,u)&&r(t,u,{configurable:!0,value:e})}},function(t,e){t.exports=!0},function(t,e,n){"use strict";var r=n(156)(!0);n(81)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(54),u=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,u.default)(e))&&"function"!=typeof e?t:e}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(6),i=n(0),u=n(18);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*u(function(){n(1)}),"Object",o)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){t.exports={default:n(159),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.toCamelCase=function(t){return t.replace(/_\w/g,function(t){return t[1].toUpperCase()})};e.toPascalCase=function(t){return(t=r(t))[0]=t[0].toUpperCase(),t},e.toDatabaseDate=function(t){return new Date(t).toISOString().slice(0,19).replace("T"," ")},e.toISODate=function(t){return new Date(t+"+00:00").toISOString()},e.addToDate=function(t,e,n){var r=new Date(t),i=new Date(r);return{minute:function(){return i.setMinutes(i.getMinutes()+e)},minutes:function(){return i.setMinutes(i.getMinutes()+e)},hour:function(){return i.setHours(i.getHours()+e)},hours:function(){return i.setHours(i.getHours()+e)},day:function(){return i.setDate(i.getDate()+e)},days:function(){return i.setDate(i.getDate()+e)},month:function(){return i.setMonth(i.getMonth()+e)},months:function(){return i.setMonth(i.getMonth()+e)},year:function(){return i.setFullYear(i.getFullYear()+e)},years:function(){return i.setFullYear(i.getFullYear()+e)}}[n](),i},e.toDateTime=function(t){return t?new Date(t):new Date}},function(t,e,n){t.exports={default:n(104),__esModule:!0}},function(t,e,n){"use strict";var r=n(35);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){t.exports={default:n(114),__esModule:!0}},function(t,e,n){var r=n(70),i=n(3)("iterator"),u=n(22);t.exports=n(0).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||u[r(t)]}},function(t,e,n){t.exports={default:n(119),__esModule:!0}},function(t,e,n){var r=n(30),i=n(23),u=n(15),o=n(55),s=n(17),a=n(83),c=Object.getOwnPropertyDescriptor;e.f=n(10)?c:function(t,e){if(t=u(t),e=o(e,!0),a)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(4),i=n(0),u=n(32),o=n(48),s=n(12).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=u?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,n){e.f=n(3)},function(t,e,n){n(152);for(var r=n(4),i=n(16),u=n(22),o=n(3)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<s.length;a++){var c=s[a],f=r[c],l=f&&f.prototype;l&&!l[o]&&i(l,o,c),u[c]=u.Array}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(53),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(7),i=n(79),u=n(50),o=n(58)("IE_PROTO"),s=function(){},a=function(){var t,e=n(56)("iframe"),r=u.length;for(e.style.display="none",n(76).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[u[r]];return a()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[o]=t):n=a(),void 0===e?n:i(n,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(82)),i=o(n(149)),u="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===u(r.default)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":u(t)}},function(t,e,n){var r=n(11);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(11),i=n(4).document,u=r(i)&&r(i.createElement);t.exports=function(t){return u?i.createElement(t):{}}},function(t,e,n){var r=n(4),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(57)("keys"),i=n(37);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(9)),i=c(n(8)),u=c(n(42)),o=c(n(2)),s=c(n(1)),a=c(n(5));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e,n,r){(0,o.default)(this,t),this._requestInterval=200,this._requests=0,this._maxRequests=e,this._requestInterval=n,this._timeout=r}return(0,s.default)(t,[{key:"_sleep",value:function(){var t=this;return new u.default(function(e){return setTimeout(e,t._requestInterval)})}},{key:"push",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n=this;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._requests>=this._maxRequests)){t.next=5;break}return t.next=3,this._sleep();case 3:t.next=0;break;case 5:return this._requests++,t.next=8,new u.default(function(t,r){var i=!1,u=!1;e.then(function(e){if(!i)return u=!0,n._requests--,t(e)}).catch(function(t){i||(n._requests--,u=!0,r(t))}),setTimeout(function(){u||(i=!0,r(new a.default(a.default.Code.InternalServerError,"Request timed out")))},1e3*n._timeout)});case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(82)),i=l(n(42)),u=l(n(9)),o=l(n(8)),s=l(n(44)),a=l(n(100)),c=l(n(2)),f=l(n(1));l(n(25));function l(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e){(0,c.default)(this,t),this._objects=e}return(0,f.default)(t,[{key:"count",value:function(){return this._objects.length}},{key:"first",value:function(){return this._objects.length>0?this._objects[0]:null}},{key:"last",value:function(){return this._objects.length>0?this._objects[this._objects.length-1]:null}},{key:"where",value:function(t){var e=[].concat((0,a.default)(this._objects)),n=[],r=!0,i=!1,u=void 0;try{for(var o,c=(0,s.default)(e);!(r=(o=c.next()).done);r=!0){var f=o.value;t(f)&&n.push(f)}}catch(t){i=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw u}}return new(0,this.constructor)(n)}},{key:"map",value:function(t){var e=[].concat((0,a.default)(this._objects)),n=[],r=!0,i=!1,u=void 0;try{for(var o,c=(0,s.default)(e);!(r=(o=c.next()).done);r=!0){var f=o.value;n.push(t(f))}}catch(t){i=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw u}}return n}},{key:"forEach",value:function(t){var e=[].concat((0,a.default)(this._objects)),n=!0,r=!1,i=void 0;try{for(var u,o=(0,s.default)(e);!(n=(u=o.next()).done);n=!0){t(u.value)}}catch(t){r=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"toList",value:function(){return this.toArray()}},{key:"toArray",value:function(){return this.map(function(t){return t})}},{key:"each",value:function(){var t=(0,o.default)(u.default.mark(function t(e){var n,r,i,o,c,f,l;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[].concat((0,a.default)(this._objects)),r=!0,i=!1,o=void 0,t.prev=4,c=(0,s.default)(n);case 6:if(r=(f=c.next()).done){t.next=13;break}return l=f.value,t.next=10,e(l);case 10:r=!0,t.next=6;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(4),i=!0,o=t.t0;case 19:t.prev=19,t.prev=20,!r&&c.return&&c.return();case 22:if(t.prev=22,!i){t.next=25;break}throw o;case 25:return t.finish(22);case 26:return t.finish(19);case 27:return t.abrupt("return");case 28:case"end":return t.stop()}},t,this,[[4,15,19,27],[20,,22,26]])}));return function(e){return t.apply(this,arguments)}}()},{key:"all",value:function(){var t=(0,o.default)(u.default.mark(function t(e){var n;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.map(function(t){return e(t)}),t.next=3,i.default.all(n);case 3:return t.abrupt("return");case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:r.default,value:function(){var t=this,e=0;return{next:function(){return e<t.length?{value:t._objects[e++],done:!1}:(e=0,{done:!0})}}}},{key:"length",get:function(){return this.count()}}]),t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyValuePair=void 0;var r=a(n(14)),i=a(n(40)),u=a(n(2)),o=a(n(1)),s=a(n(5));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;(0,u.default)(this,t),this._key=e,this._value=n,this._alias=r}return(0,o.default)(t,[{key:"key",get:function(){return this._key}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}},{key:"alias",get:function(){return this._alias},set:function(t){this._alias=t}}]),t}();e.KeyValuePair=c;var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var r in(0,u.default)(this,t),this._map={},e){var i=e[r],o=new c(r,i);this._map[r]=o}this._immutable=n}return(0,o.default)(t,[{key:"set",value:function(t,e){if(this._immutable)throw new s.default(s.default.Code.ForbiddenOperation,"Cannot set a value for an immutable KeyMap");void 0===this._map[t]?this._map[t]=new c(t,e):this._map[t].value=e}},{key:"setAlias",value:function(t,e){if(this._immutable)throw new s.default(s.default.Code.ForbiddenOperation,"Cannot set an alias for an immutable KeyMap");this._map[t].alias=e}},{key:"remove",value:function(t){if(this._immutable)throw new s.default(s.default.Code.ForbiddenOperation,"Cannot remove from an immutable KeyMap");delete this._map[t]}},{key:"get",value:function(t){return void 0===this._map[t]&&(this._map[t]=new c(t,void 0)),this._map[t].value}},{key:"getAlias",value:function(t){return this._map[t].alias}},{key:"getKeys",value:function(){return(0,i.default)(this._map)}},{key:"has",value:function(t){return void 0!==this._map[t]}},{key:"toList",value:function(){var t=this;return this.getKeys().map(function(e){return t._map[e]})}},{key:"getAliases",value:function(){return this.toList().map(function(t){return t.alias})}},{key:"setImmutability",value:function(t){this._immutable=t}},{key:"toJSON",value:function(){var t=this.toList().reduce(function(t,e){return t[e.key]=e.value,t},{});return this._immutable?(0,r.default)(t):t}}]),t}();e.default=f},function(t,e,n){var r=n(3)("iterator"),i=!1;try{var u=[7][r]();u.return=function(){i=!0},Array.from(u,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var u=[7],o=u[r]();o.next=function(){return{done:n=!0}},u[r]=function(){return o},t(u)}catch(t){}return n}},function(t,e,n){var r=n(7),i=n(11),u=n(41);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=u.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r,i,u,o=n(19),s=n(110),a=n(76),c=n(56),f=n(4),l=f.process,d=f.setImmediate,h=f.clearImmediate,p=f.MessageChannel,v=f.Dispatch,y=0,_={},m=function(){var t=+this;if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},g=function(t){m.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _[++y]=function(){s("function"==typeof t?t:Function(t),e)},r(y),y},h=function(t){delete _[t]},"process"==n(20)(l)?r=function(t){l.nextTick(o(m,t,1))}:v&&v.now?r=function(t){v.now(o(m,t,1))}:p?(u=(i=new p).port2,i.port1.onmessage=g,r=o(u.postMessage,u,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(t){a.appendChild(c("script")).onreadystatechange=function(){a.removeChild(this),m.call(t)}}:function(t){setTimeout(o(m,t,1),0)}),t.exports={set:d,clear:h}},function(t,e,n){var r=n(7),i=n(35),u=n(3)("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[u])?e:i(n)}},function(t,e,n){var r=n(22),i=n(3)("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||u[i]===t)}},function(t,e,n){var r=n(7);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var u=t.return;throw void 0!==u&&r(u.call(t)),e}}},function(t,e,n){var r=n(20),i=n(3)("toStringTag"),u="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:u?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(126),u=(r=i)&&r.__esModule?r:{default:r};e.default=u.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={default:n(128),__esModule:!0}},function(t,e){},function(t,e,n){var r=n(78),i=n(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(37)("meta"),i=n(11),u=n(17),o=n(12).f,s=0,a=Object.isExtensible||function(){return!0},c=!n(18)(function(){return a(Object.preventExtensions({}))}),f=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,r)){if(!a(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!u(t,r)){if(!a(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return c&&l.NEED&&a(t)&&!u(t,r)&&f(t),t}}},function(t,e,n){var r=n(4).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(17),i=n(15),u=n(154)(!1),o=n(58)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),a=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;e.length>a;)r(s,n=e[a++])&&(~u(c,n)||c.push(n));return c}},function(t,e,n){var r=n(12),i=n(7),u=n(21);t.exports=n(10)?Object.defineProperties:function(t,e){i(t);for(var n,o=u(e),s=o.length,a=0;s>a;)r.f(t,n=o[a++],e[n]);return t}},function(t,e,n){t.exports=n(16)},function(t,e,n){"use strict";var r=n(32),i=n(6),u=n(80),o=n(16),s=n(17),a=n(22),c=n(155),f=n(31),l=n(84),d=n(3)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,v,y,_,m){c(n,e,v);var g,k,b,w=function(t){if(!h&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",O="values"==y,I=!1,S=t.prototype,T=S[d]||S["@@iterator"]||y&&S[y],C=!h&&T||w(y),j=y?O?w("entries"):C:void 0,M="Array"==e&&S.entries||T;if(M&&(b=l(M.call(new t)))!==Object.prototype&&b.next&&(f(b,x,!0),r||s(b,d)||o(b,d,p)),O&&T&&"values"!==T.name&&(I=!0,C=function(){return T.call(this)}),r&&!m||!h&&!I&&S[d]||o(S,d,C),a[e]=C,a[x]=p,y)if(g={values:O?C:w("values"),keys:_?C:w("keys"),entries:j},m)for(k in g)k in S||u(S,k,g[k]);else i(i.P+i.F*(h||I),e,g);return g}},function(t,e,n){t.exports={default:n(157),__esModule:!0}},function(t,e,n){t.exports=!n(10)&&!n(18)(function(){return 7!=Object.defineProperty(n(56)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(17),i=n(24),u=n(58)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(2)),i=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(e){(0,r.default)(this,t),this._client={};var n=e.prefix;this._prefix=n}return(0,i.default)(t,[{key:"_getKey",value:function(t){return this._prefix+":"+t}},{key:"set",value:function(t,e){this._client[this._getKey(t)]=e}},{key:"get",value:function(t){var e=this._client[this._getKey(t)];if(null!==e)return e}},{key:"remove",value:function(t){delete this._client[this._getKey(t)]}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(2)),i=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(e){(0,r.default)(this,t),this._client={};var n=e.prefix;this._prefix=n}return(0,i.default)(t,[{key:"_getKey",value:function(t){return this._prefix+":"+t}},{key:"set",value:function(t,e){this._client[this._getKey(t)]=e}},{key:"get",value:function(t){var e=this._client[this._getKey(t)];if(null!==e)return e}},{key:"remove",value:function(t){delete this._client[this._getKey(t)]}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(2)),i=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(e){(0,r.default)(this,t),this._client=localStorage;var n=e.prefix;this._prefix=n}return(0,i.default)(t,[{key:"_getKey",value:function(t){return this._prefix+":"+t}},{key:"set",value:function(t,e){void 0!==e&&this._client.setItem(this._getKey(t),e)}},{key:"get",value:function(t){var e=this._client.getItem(this._getKey(t));if(null!==e)return e}},{key:"remove",value:function(t){this._client.removeItem(this._getKey(t))}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(14)),i=f(n(2)),u=f(n(1)),o=f(n(5)),s=f(n(87)),a=f(n(86)),c=f(n(85));function f(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){(0,i.default)(this,t)}return(0,u.default)(t,null,[{key:"use",value:function(t,e){var n=this.Platform[t];if(void 0===n)throw new o.default(o.default.Code.MissingConfiguration,"Storage `"+t+"` is not supported");return new n(e)}}]),t}();l.Platform=(0,r.default)({browser:s.default,api:a.default,node:c.default}),e.default=l},function(t,e){t.exports=e=window.fetch,e.Headers=window.Headers,e.Request=window.Request,e.Response=window.Response},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(28)),i=d(n(9)),u=d(n(8)),o=d(n(2)),s=d(n(1)),a=d(n(89)),c=d(n(5)),f=d(n(60)),l=n(13);function d(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e){(0,o.default)(this,t),this._requestInterval=200;var n=e.apiKey,r=e.masterKey,i=e.serverURL,u=e.timeout,s=e.maxRequests;this._apiKey=n||"",this._masterKey=r,this._serverURL=i||"",this._queue=new f.default(s||6,this._requestInterval,u||10)}return(0,s.default)(t,[{key:"logIn",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o,s=e.username,a=e.email,c=e.password;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/login",r={username:s,email:a,password:c},u=this._send(n,"POST",void 0,r),t.next=5,this._queue.push(u);case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"become",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o=e.sessionToken;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/users/me",r=this._send(n,"GET",o),t.next=4,this._queue.push(r);case 4:return u=t.sent,t.abrupt("return",u);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"logOut",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o=e.sessionToken;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/logout",r=this._send(n,"POST",o),t.next=4,this._queue.push(r);case 4:return u=t.sent,t.abrupt("return",u);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"find",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,u,o,s,a=e.className,c=e.select,f=e.include,d=e.where,h=e.sort,p=e.skip,v=e.limit;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/classes/"+a+"?",u=[],a===l.InternalKeys.Auth.User?n=this._serverURL+"/users?":a===l.InternalKeys.Auth.Session&&(n=this._serverURL+"/sessions?"),void 0!==c&&u.push("select="+encodeURIComponent((0,r.default)(c))),void 0!==f&&u.push("include="+encodeURIComponent((0,r.default)(f))),void 0!==d&&u.push("where="+encodeURIComponent((0,r.default)(d))),void 0!==h&&u.push("sort="+encodeURIComponent((0,r.default)(h))),void 0!==p&&u.push("skip="+p),void 0!==v&&u.push("limit="+v),n+=u.join("&"),o=this._send(n,"GET"),t.next=13,this._queue.push(o);case 13:return s=t.sent,t.abrupt("return",s);case 15:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,u,o,s,a=e.className,c=e.id,f=e.select,d=e.include;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/classes/"+a+"/"+c+"?",u=[],a===l.InternalKeys.Auth.User?n=this._serverURL+"/users/"+c+"?":a===l.InternalKeys.Auth.Session&&(n=this._serverURL+"/sessions/"+c+"?"),void 0!==f&&u.push("select="+encodeURIComponent((0,r.default)(f))),void 0!==d&&u.push("include="+encodeURIComponent((0,r.default)(d))),n+=u.join("&"),o=this._send(n,"GET"),t.next=9,this._queue.push(o);case 9:return s=t.sent,t.abrupt("return",s);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"save",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o,s=e.sessionToken,a=e.className,c=e.keys,f=e.id;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/classes/"+a,a===l.InternalKeys.Auth.User&&(n=this._serverURL+"/users"),void 0!==f&&(n+="/"+f),r=void 0===f?"POST":"PUT",u=this._send(n,r,s,c),t.next=7,this._queue.push(u);case 7:return o=t.sent,t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"destroy",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o=e.sessionToken,s=e.className,a=e.id;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/classes/"+s+"/"+a,s===l.InternalKeys.Auth.User&&(n=this._serverURL+"/users"),r=this._send(n,"DELETE",o),t.next=5,this._queue.push(r);case 5:return u=t.sent,t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"run",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o=e.sessionToken,s=e.functionName,a=e.keys;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/functions/"+s,r=this._send(n,"POST",o,a),t.next=4,this._queue.push(r);case 4:return u=t.sent,t.abrupt("return",u);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_send",value:function(){var t=(0,u.default)(i.default.mark(function t(e,n,u,o){var s,f,l,d;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(s=new Headers).append("X-Warp-API-Key",this._apiKey),s.append("Content-Type","GET"===n?"application/x-www-form-urlencode":"application/json"),"string"==typeof this._masterKey&&s.append("X-Warp-Master-Key",this._masterKey),"string"==typeof u&&s.append("X-Warp-Session-Token",u),f={headers:s,method:n,body:o?(0,r.default)(o):void 0},t.next=8,(0,a.default)(e,f);case 8:return l=t.sent,t.next=11,l.json();case 11:if(d=t.sent,!(l.status<200||l.status>=400)){t.next=16;break}throw new c.default(d.code,d.message);case 16:return t.abrupt("return",d.result);case 17:case"end":return t.stop()}},t,this)}));return function(e,n,r,i){return t.apply(this,arguments)}}()}]),t}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(9)),i=c(n(8)),u=c(n(2)),o=c(n(1)),s=c(n(5)),a=n(13);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,u.default)(this,t);var n=e.api,r=e.sessionToken,i=e.currentUser;if(void 0===n)throw new s.default(s.default.Code.MissingConfiguration,"`api` must be provided for the api platform");this._api=n,this._sessionToken=r,this._currentUser=i}return(0,o.default)(t,[{key:"logIn",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i=e.username,u=e.email,o=e.password;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._api._userController.logIn({username:i,email:u,password:o});case 2:return n=t.sent.toJSON(),t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"become",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i,u=e.sessionToken;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._getCurrentUser(u),t.next=3,this._api._userController.me({currentUser:n});case 3:return i=t.sent.toJSON(),t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"logOut",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i,u=e.sessionToken;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._getCurrentUser(u),t.next=3,this._api._userController.logOut({currentUser:n});case 3:return i=t.sent.toJSON(),t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"find",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i=e.className,u=e.select,o=e.include,s=e.where,c=e.sort,f=e.skip,l=e.limit;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=void 0,i!==a.InternalKeys.Auth.User){t.next=7;break}return t.next=4,this._api._userController.find({select:u,include:o,where:s,sort:c,skip:f,limit:l});case 4:n=t.sent.toJSON(),t.next=16;break;case 7:if(i!==a.InternalKeys.Auth.Session){t.next=13;break}return t.next=10,this._api._sessionController.find({select:u,include:o,where:s,sort:c,skip:f,limit:l});case 10:n=t.sent.toJSON(),t.next=16;break;case 13:return t.next=15,this._api._classController.find({className:i,select:u,include:o,where:s,sort:c,skip:f,limit:l});case 15:n=t.sent.toJSON();case 16:return t.abrupt("return",n);case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i=e.className,u=e.id,o=e.select,s=e.include;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=void 0,i!==a.InternalKeys.Auth.User){t.next=7;break}return t.next=4,this._api._userController.get({select:o,include:s,id:u});case 4:n=t.sent.toJSON(),t.next=16;break;case 7:if(i!==a.InternalKeys.Auth.Session){t.next=13;break}return t.next=10,this._api._sessionController.get({select:o,include:s,id:u});case 10:n=t.sent.toJSON(),t.next=16;break;case 13:return t.next=15,this._api._classController.get({className:i,select:o,include:s,id:u});case 15:n=t.sent.toJSON();case 16:return t.abrupt("return",n);case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"save",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i,u,o=e.sessionToken,s=e.className,c=e.keys,f=e.id;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._getCurrentUser(o),i={isMaster:!0},u=void 0,void 0!==f){t.next=15;break}if(s!==a.InternalKeys.Auth.User){t.next=10;break}return t.next=7,this._api._userController.create({metadata:i,currentUser:n,keys:c});case 7:u=t.sent.toJSON(),t.next=13;break;case 10:return t.next=12,this._api._classController.create({metadata:i,currentUser:n,className:s,keys:c});case 12:u=t.sent.toJSON();case 13:t.next=24;break;case 15:if(s!==a.InternalKeys.Auth.User){t.next=21;break}return t.next=18,this._api._userController.update({metadata:i,currentUser:n,keys:c,id:f});case 18:u=t.sent.toJSON(),t.next=24;break;case 21:return t.next=23,this._api._classController.update({metadata:i,currentUser:n,className:s,keys:c,id:f});case 23:u=t.sent.toJSON();case 24:return t.abrupt("return",u);case 25:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"destroy",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i,u,o=e.sessionToken,s=e.className,c=e.id;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._getCurrentUser(o),i={isMaster:!0},u=void 0,s!==a.InternalKeys.Auth.User){t.next=9;break}return t.next=6,this._api._userController.destroy({metadata:i,currentUser:n,id:c});case 6:u=t.sent.toJSON(),t.next=12;break;case 9:return t.next=11,this._api._classController.destroy({metadata:i,currentUser:n,className:s,id:c});case 11:u=t.sent.toJSON();case 12:return t.abrupt("return",u);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"run",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i,u=e.sessionToken,o=e.functionName,s=e.keys;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._getCurrentUser(u),t.next=3,this._api.functionController.run({currentUser:n,functionName:o,keys:s});case 3:return i=t.sent.toJSON(),t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_getCurrentUser",value:function(){var t=(0,i.default)(r.default.mark(function t(e){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._sessionToken!==e){t.next=2;break}return t.abrupt("return",this._currentUser);case 2:if(void 0===e){t.next=7;break}return this._sessionToken=e,t.next=6,this._api.authenticate({sessionToken:e});case 6:this._currentUser=t.sent;case 7:return t.abrupt("return",this._currentUser);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(28)),i=l(n(9)),u=l(n(8)),o=l(n(2)),s=l(n(1)),a=l(n(5)),c=l(n(60)),f=n(13);function l(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e){(0,o.default)(this,t),this._requestInterval=200;var n=e.apiKey,r=e.masterKey,i=e.serverURL,u=e.timeout,s=e.maxRequests;this._apiKey=n||"",this._masterKey=r,this._serverURL=i||"",this._queue=new c.default(s||6,this._requestInterval,u||10)}return(0,s.default)(t,[{key:"logIn",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o,s=e.username,a=e.email,c=e.password;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/login",r={username:s,email:a,password:c},u=this._send(n,"POST",void 0,r),t.next=5,this._queue.push(u);case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"become",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o=e.sessionToken;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/users/me",r=this._send(n,"GET",o),t.next=4,this._queue.push(r);case 4:return u=t.sent,t.abrupt("return",u);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"logOut",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o=e.sessionToken;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/logout",r=this._send(n,"POST",o),t.next=4,this._queue.push(r);case 4:return u=t.sent,t.abrupt("return",u);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"find",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,u,o,s,a=e.className,c=e.select,l=e.include,d=e.where,h=e.sort,p=e.skip,v=e.limit;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/classes/"+a+"?",u=[],a===f.InternalKeys.Auth.User?n=this._serverURL+"/users?":a===f.InternalKeys.Auth.Session&&(n=this._serverURL+"/sessions?"),void 0!==c&&u.push("select="+encodeURIComponent((0,r.default)(c))),void 0!==l&&u.push("include="+encodeURIComponent((0,r.default)(l))),void 0!==d&&u.push("where="+encodeURIComponent((0,r.default)(d))),void 0!==h&&u.push("sort="+encodeURIComponent((0,r.default)(h))),void 0!==p&&u.push("skip="+p),void 0!==v&&u.push("limit="+v),n+=u.join("&"),o=this._send(n,"GET"),t.next=13,this._queue.push(o);case 13:return s=t.sent,t.abrupt("return",s);case 15:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,u,o,s,a=e.className,c=e.id,l=e.select,d=e.include;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/classes/"+a+"/"+c+"?",u=[],a===f.InternalKeys.Auth.User?n=this._serverURL+"/users/"+c+"?":a===f.InternalKeys.Auth.Session&&(n=this._serverURL+"/sessions/"+c+"?"),void 0!==l&&u.push("select="+encodeURIComponent((0,r.default)(l))),void 0!==d&&u.push("include="+encodeURIComponent((0,r.default)(d))),n+=u.join("&"),o=this._send(n,"GET"),t.next=9,this._queue.push(o);case 9:return s=t.sent,t.abrupt("return",s);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"save",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o,s=e.sessionToken,a=e.className,c=e.keys,l=e.id;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/classes/"+a,a===f.InternalKeys.Auth.User&&(n=this._serverURL+"/users"),void 0!==l&&(n+="/"+l),r=void 0===l?"POST":"PUT",u=this._send(n,r,s,c),t.next=7,this._queue.push(u);case 7:return o=t.sent,t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"destroy",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o=e.sessionToken,s=e.className,a=e.id;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/classes/"+s+"/"+a,s===f.InternalKeys.Auth.User&&(n=this._serverURL+"/users"),r=this._send(n,"DELETE",o),t.next=5,this._queue.push(r);case 5:return u=t.sent,t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"run",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u,o=e.sessionToken,s=e.functionName,a=e.keys;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._serverURL+"/functions/"+s,r=this._send(n,"POST",o,a),t.next=4,this._queue.push(r);case 4:return u=t.sent,t.abrupt("return",u);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_send",value:function(){var t=(0,u.default)(i.default.mark(function t(e,n,u,o){var s,c,f,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(s=new Headers).append("X-Warp-API-Key",this._apiKey),s.append("Content-Type","GET"===n?"application/x-www-form-urlencode":"application/json"),"string"==typeof this._masterKey&&s.append("X-Warp-Master-Key",this._masterKey),"string"==typeof u&&s.append("X-Warp-Session-Token",u),c={headers:s,method:n,body:o?(0,r.default)(o):void 0},t.next=8,fetch(e,c);case 8:return f=t.sent,t.next=11,f.json();case 11:if(l=t.sent,!(f.status<200||f.status>=400)){t.next=16;break}throw new a.default(l.code,l.message);case 16:return t.abrupt("return",l.result);case 17:case"end":return t.stop()}},t,this)}));return function(e,n,r,i){return t.apply(this,arguments)}}()}]),t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(14)),i=f(n(2)),u=f(n(1)),o=f(n(5)),s=f(n(92)),a=f(n(91)),c=f(n(90));function f(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){(0,i.default)(this,t)}return(0,u.default)(t,null,[{key:"use",value:function(t,e){var n=this.Platform[t];if(void 0===n)throw new o.default(o.default.Code.MissingConfiguration,"Http `"+t+"` is not supported");return new n(e)}}]),t}();l.Platform=(0,r.default)({browser:s.default,api:a.default,node:c.default}),e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(9)),i=d(n(27)),u=d(n(8)),o=d(n(2)),s=d(n(1)),a=(0,i.default)([""," as a string"],[""," as a string"]),c=(0,i.default)([""," as an optional object"],[""," as an optional object"]),f=d(n(26)),l=n(13);function d(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){(0,o.default)(this,t)}return(0,s.default)(t,null,[{key:"initialize",value:function(t,e){return this._http=t,this._storage=e,this}},{key:"run",value:function(){var t=(0,u.default)(r.default.mark(function t(e,n,i){var u,o;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(0,f.default)(a,{functionName:e}),(0,f.default)(c,{keys:n}),u=this._storage.get(l.InternalKeys.Auth.SessionToken),t.next=5,this._http.run({sessionToken:u,functionName:e,keys:n});case 5:if(o=t.sent,"function"!=typeof i){t.next=10;break}return t.next=9,i(o);case 9:return t.abrupt("return",t.sent);case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()}]),t}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(28)),i=v(n(9)),u=v(n(8)),o=v(n(38)),s=v(n(2)),a=v(n(1)),c=v(n(34)),f=v(n(29)),l=v(n(25)),d=v(n(5)),h=n(39),p=n(13);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(){return(0,s.default)(this,e),(0,c.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,a.default)(e,[{key:"className",get:function(){return p.InternalKeys.Auth.User}},{key:"username",get:function(){return this.get(p.InternalKeys.Auth.Username)},set:function(t){this.set(p.InternalKeys.Auth.Username,t)}},{key:"email",get:function(){return this.get(p.InternalKeys.Auth.Email)},set:function(t){this.set(p.InternalKeys.Auth.Email,t)}},{key:"password",set:function(t){this.set(p.InternalKeys.Auth.Password,t)}}],[{key:"_clearSession",value:function(){this._storage.remove(p.InternalKeys.Auth.SessionToken),this._storage.remove(p.InternalKeys.Auth.RevokedAt),this._storage.remove(p.InternalKeys.Auth.User),this._currentUser=void 0}},{key:"current",value:function(){if(void 0===this._currentUser){var t=this._storage.get(p.InternalKeys.Auth.RevokedAt),e=this._storage.get(p.InternalKeys.Auth.User);if((0,h.toDateTime)(t).getTime()<(0,h.toDateTime)().getTime())throw this._clearSession(),new d.default(d.default.Code.InvalidSessionToken,"Session expired. Try logging in again.");if(void 0!==e)try{var n=JSON.parse(e),r=n[p.InternalKeys.Id];delete n[p.InternalKeys.Id];var i=new this(n);i._id=r,i._isDirty=!1,this._currentUser=i}catch(t){throw new d.default(d.default.Code.ForbiddenOperation,"Current user data is malformed. Try logging out or clearing browser cache.")}}return this._currentUser}},{key:"logIn",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r,u;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._http.logIn(e);case 2:return n=t.sent,r=n[p.InternalKeys.Auth.SessionToken],u=n[p.InternalKeys.Auth.RevokedAt],t.next=7,this.become({sessionToken:r,revokedAt:u});case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"become",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n,u,o,s=e.sessionToken,a=e.revokedAt;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._http.become({sessionToken:s});case 2:if(n=t.sent,u=a?new Date(a).toISOString():(new Date).toISOString(),this._storage.set(p.InternalKeys.Auth.SessionToken,s),this._storage.set(p.InternalKeys.Auth.RevokedAt,u),this._storage.set(p.InternalKeys.Auth.User,(0,r.default)(n)),void 0!==(o=this.current())){t.next=12;break}throw new d.default(d.default.Code.InvalidSessionToken,"Invalid session token");case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"logOut",value:function(){var t=(0,u.default)(i.default.mark(function t(e){var n=e.sessionToken;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._http.logOut({sessionToken:n});case 2:this._clearSession();case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}(l.default);e.default=y},function(t,e,n){"use strict";var r=n(12),i=n(23);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){"use strict";var r=n(19),i=n(6),u=n(24),o=n(69),s=n(68),a=n(51),c=n(96),f=n(43);i(i.S+i.F*!n(63)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,d=u(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,_=0,m=f(d);if(y&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==m||h==Array&&s(m))for(n=new h(e=a(d.length));e>_;_++)c(n,_,y?v(d[_],_):d[_]);else for(l=m.call(d),n=new h;!(i=l.next()).done;_++)c(n,_,y?o(l,v,[i.value,_],!0):i.value);return n.length=_,n}})},function(t,e,n){n(33),n(97),t.exports=n(0).Array.from},function(t,e,n){t.exports={default:n(98),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(99),u=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,u.default)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Subqueries=e.Constraints=void 0;var r=c(n(40)),i=c(n(71)),u=c(n(14)),o=c(n(2)),s=c(n(1)),a=c(n(5));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e,n){(0,o.default)(this,t),this._key=e,this._map=n}return(0,s.default)(t,[{key:"set",value:function(t,e){this._map[t]=e}},{key:"changeKey",value:function(t){this._key=t}},{key:"constraintExists",value:function(t){return void 0!==this._map[t]}},{key:"toJSON",value:function(){return(0,u.default)((0,i.default)({},this._map))}},{key:"key",get:function(){return this._key}},{key:"list",get:function(){var t=this;return(0,r.default)(this._map).map(function(e){return{key:t.key,constraint:e,value:t._map[e]}})}}]),t}(),l=e.Constraints=(0,u.default)({EqualTo:"eq",NotEqualTo:"neq",GreaterThan:"gt",GreaterThanOrEqualTo:"gte",LessThan:"lt",LessThanOrEqualTo:"lte",Exists:"ex",ContainedIn:"in",NotContainedIn:"nin",ContainedInOrDoesNotExist:"inx",StartsWith:"str",EndsWith:"end",Contains:"has",ContainsEither:"hasi",ContainsAll:"hasa",FoundIn:"fi",FoundInEither:"fie",FoundInAll:"fia",NotFoundIn:"nfi",NotFoundInEither:"nfe"}),d=e.Subqueries=(0,u.default)({FoundIn:"fi",FoundInEither:"fie",FoundInAll:"fia",NotFoundIn:"nfi",NotFoundInEither:"nfe"}),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in(0,o.default)(this,t),this._map={},e)this._map[n]=new f(n,e[n])}return(0,s.default)(t,null,[{key:"Constraints",get:function(){return l}},{key:"Subqueries",get:function(){return d}}]),(0,s.default)(t,[{key:"set",value:function(t,e,n){var r=this._map[t]||new f(t,{});r.set(e,n),this._map[t]=r}},{key:"changeKey",value:function(t,e){var n=this._map[t];if(!n)throw new a.default(a.default.Code.MissingConfiguration,"Constraint key being changed does not exist: `"+t+"`");n.changeKey(e),this._map[e]=n,delete this._map[t]}},{key:"get",value:function(t){return this._map[t]}},{key:"getKeys",value:function(){return(0,r.default)(this._map)}},{key:"getConstraints",value:function(t){return this._map[t].list}},{key:"equalTo",value:function(t,e){this.set(t,l.EqualTo,e)}},{key:"notEqualTo",value:function(t,e){this.set(t,l.NotEqualTo,e)}},{key:"greaterThan",value:function(t,e){this.set(t,l.GreaterThan,e)}},{key:"greaterThanOrEqualTo",value:function(t,e){this.set(t,l.GreaterThanOrEqualTo,e)}},{key:"lessThan",value:function(t,e){this.set(t,l.LessThan,e)}},{key:"lessThanOrEqualTo",value:function(t,e){this.set(t,l.LessThanOrEqualTo,e)}},{key:"exists",value:function(t){this.set(t,l.Exists,!0)}},{key:"doesNotExist",value:function(t){this.set(t,l.Exists,!1)}},{key:"containedIn",value:function(t,e){this.set(t,l.ContainedIn,e)}},{key:"notContainedIn",value:function(t,e){this.set(t,l.NotContainedIn,e)}},{key:"containedInOrDoesNotExist",value:function(t,e){this.set(t,l.ContainedInOrDoesNotExist,e)}},{key:"startsWith",value:function(t,e){this.set(t,l.StartsWith,e)}},{key:"endsWith",value:function(t,e){this.set(t,l.EndsWith,e)}},{key:"contains",value:function(t,e){this.set(t,l.Contains,e)}},{key:"containsEither",value:function(t,e){this.set(t,l.ContainsEither,e)}},{key:"containsAll",value:function(t,e){this.set(t,l.ContainsAll,e)}},{key:"foundIn",value:function(t,e){this.set(t,l.FoundIn,e)}},{key:"foundInEither",value:function(t,e){this.set(t,l.FoundInEither,e)}},{key:"foundInAll",value:function(t,e){this.set(t,l.FoundInAll,e)}},{key:"notFoundIn",value:function(t,e){this.set(t,l.NotFoundIn,e)}},{key:"notFoundInEither",value:function(t,e){this.set(t,l.NotFoundInEither,e)}},{key:"toList",value:function(){var t=this;return(0,r.default)(this._map).map(function(e){return t._map[e]})}},{key:"toJSON",value:function(){var t=this;return(0,r.default)(this._map).reduce(function(e,n){return e[n]=t._map[n].toJSON(),e},{})}}]),t}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=O(n(9)),i=O(n(8)),u=O(n(44)),o=O(n(40)),s=O(n(27)),a=O(n(38)),c=O(n(34)),f=O(n(29)),l=O(n(2)),d=O(n(1)),h=(0,s.default)([""," as a string"],[""," as a string"]),p=(0,s.default)([""," as a number"],[""," as a number"]),v=O(n(26)),y=O(n(25)),_=O(n(5)),m=n(13),g=n(101),k=O(g),b=O(n(61)),w=O(n(62)),x=n(39);function O(t){return t&&t.__esModule?t:{default:t}}var I=function(){function t(e){if((0,l.default)(this,t),this._select=[],this._include=[],this._where=new k.default,this._sort=[],"string"==typeof e){var n=e;this._class=function(t){function e(){return(0,l.default)(this,e),(0,c.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,d.default)(e,[{key:"className",get:function(){return n}}]),e}(y.default)}else{if(!(new e instanceof y.default))throw new _.default(_.default.Code.ForbiddenOperation,"`className` must be a string or a `Warp.Object`");this._class=e}}return(0,d.default)(t,[{key:"_set",value:function(t,e,n){return(0,v.default)(h,{key:t}),n instanceof Date&&(n=(0,x.toDatabaseDate)(n)),this._where.set(t,e,n),this}},{key:"equalTo",value:function(t,e){return this._set(t,g.Constraints.EqualTo,e),this}},{key:"notEqualTo",value:function(t,e){return this._set(t,g.Constraints.NotEqualTo,e),this}},{key:"greaterThan",value:function(t,e){return this._set(t,g.Constraints.GreaterThan,e),this}},{key:"greaterThanOrEqualTo",value:function(t,e){return this._set(t,g.Constraints.GreaterThanOrEqualTo,e),this}},{key:"lessThan",value:function(t,e){return this._set(t,g.Constraints.LessThan,e),this}},{key:"lessThanOrEqualTo",value:function(t,e){return this._set(t,g.Constraints.LessThanOrEqualTo,e),this}},{key:"exists",value:function(t){return this._set(t,g.Constraints.Exists,!0),this}},{key:"doesNotExist",value:function(t){return this._set(t,g.Constraints.Exists,!1),this}},{key:"containedIn",value:function(t,e){return this._set(t,g.Constraints.ContainedIn,e),this}},{key:"notContainedIn",value:function(t,e){return this._set(t,g.Constraints.NotContainedIn,e),this}},{key:"containedInOrDoesNotExist",value:function(t,e){return this._set(t,g.Constraints.ContainedInOrDoesNotExist,e),this}},{key:"startsWith",value:function(t,e){return this._set(t,g.Constraints.StartsWith,e),this}},{key:"endsWith",value:function(t,e){return this._set(t,g.Constraints.EndsWith,e),this}},{key:"contains",value:function(t,e){return this._set(t,g.Constraints.Contains,e),this}},{key:"containsEither",value:function(t,e){return this._set(t,g.Constraints.ContainsEither,e),this}},{key:"containsAll",value:function(t,e){return this._set(t,g.Constraints.ContainsAll,e),this}},{key:"foundIn",value:function(t,e,n){return this._set(t,g.Constraints.FoundIn,n.toSubquery(e)),this}},{key:"foundInEither",value:function(t,e){return this._set(t,g.Constraints.FoundInEither,e.map(function(t){var e=(0,o.default)(t)[0];return t[e].toSubquery(e)})),this}},{key:"foundInAll",value:function(t,e){return this._set(t,g.Constraints.FoundInAll,e.map(function(t){var e=(0,o.default)(t)[0];return t[e].toSubquery(e)})),this}},{key:"notFoundIn",value:function(t,e,n){return this._set(t,g.Constraints.NotFoundIn,n.toSubquery(e)),this}},{key:"notFoundInEither",value:function(t,e){return this._set(t,g.Constraints.NotFoundInEither,e.map(function(t){var e=(0,o.default)(t)[0];return t[e].toSubquery(e)})),this}},{key:"select",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e)throw new _.default(_.default.Code.MissingConfiguration,"Select key must be a string or an array of strings");var r=e[0]instanceof Array?e[0]:e,i=!0,o=!1,s=void 0;try{for(var a,c=(0,u.default)(r);!(i=(a=c.next()).done);i=!0){var f=a.value;(0,v.default)(h,{key:f}),this._select.push(f)}}catch(t){o=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}return this}},{key:"include",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e)throw new _.default(_.default.Code.MissingConfiguration,"Include key must be a string or an array of strings");var r=e[0]instanceof Array?e[0]:e,i=!0,o=!1,s=void 0;try{for(var a,c=(0,u.default)(r);!(i=(a=c.next()).done);i=!0){var f=a.value;(0,v.default)(h,{key:f}),this._include.push(f)}}catch(t){o=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}return this}},{key:"sortBy",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e)throw new _.default(_.default.Code.MissingConfiguration,"SortBy key must be a string or an array of strings");var r=e[0]instanceof Array?e[0]:e,i=!0,o=!1,s=void 0;try{for(var a,c=(0,u.default)(r);!(i=(a=c.next()).done);i=!0){var f=a.value;(0,v.default)(h,{key:f}),this._sort.push(f)}}catch(t){o=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}return this}},{key:"sortByDescending",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e)throw new _.default(_.default.Code.MissingConfiguration,"SortByDescending key must be a string or an array of strings");var r=e[0]instanceof Array?e[0]:e,i=!0,o=!1,s=void 0;try{for(var a,c=(0,u.default)(r);!(i=(a=c.next()).done);i=!0){var f=a.value;(0,v.default)(h,{key:f}),this._sort.push("-"+f)}}catch(t){o=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}return this}},{key:"skip",value:function(t){return(0,v.default)(p,{skip:t}),this._skip=t,this}},{key:"limit",value:function(t){return(0,v.default)(p,{limit:t}),this._limit=t,this}},{key:"find",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i,o,s,a,c,f,l,d,h,p,v,y,_,g,k,x,O,I,S,T;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.constructor._storage.get(m.InternalKeys.Auth.SessionToken),i=this._class.prototype.className,o=this._select.length>0?this._select:void 0,s=this._include.length>0?this._include:void 0,a=this._where.toJSON(),c=this._sort.length>0?this._sort:void 0,f=this._skip,l=this._limit,t.next=10,this.constructor._http.find({sessionToken:n,className:i,select:o,include:s,where:a,sort:c,skip:f,limit:l});case 10:for(d=t.sent,h=[],p=!0,v=!1,y=void 0,t.prev=15,_=(0,u.default)(d);!(p=(g=_.next()).done);p=!0)k=g.value,x=k[m.InternalKeys.Id],delete k[m.InternalKeys.Id],O=this._class,(I=new O)._id=x,I._keyMap=new w.default(k),I._isDirty=!1,h.push(I);t.next=23;break;case 19:t.prev=19,t.t0=t.catch(15),v=!0,y=t.t0;case 23:t.prev=23,t.prev=24,!p&&_.return&&_.return();case 26:if(t.prev=26,!v){t.next=29;break}throw y;case 29:return t.finish(26);case 30:return t.finish(23);case 31:if(S=new b.default(h),"function"!=typeof e){t.next=37;break}return T=e(S),t.next=36,T;case 36:return t.abrupt("return",t.sent);case 37:return t.abrupt("return",S);case 38:case"end":return t.stop()}},t,this,[[15,19,23,31],[24,,26,30]])}));return function(e){return t.apply(this,arguments)}}()},{key:"first",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i,u;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._skip=0,this._limit=1,t.next=4,this.find();case 4:if(0!==(n=t.sent).length){t.next=7;break}return t.abrupt("return",null);case 7:if(i=n.first(),"function"!=typeof e){t.next=13;break}return u=e(i),t.next=12,u;case 12:return t.abrupt("return",t.sent);case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i,u,o,s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.constructor._storage.get(m.InternalKeys.Auth.SessionToken),i=this._class.prototype.className,u=this._select.length>0?this._select:void 0,o=this._include.length>0?this._include:void 0,t.next=6,this.constructor._http.get({sessionToken:n,className:i,select:u,include:o,id:e});case 6:return s=t.sent,t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"toSubquery",value:function(t){return{className:this._class.prototype.className,where:this._where.toJSON(),select:t}}}],[{key:"initialize",value:function(t,e){return this._http=t,this._storage=e,this}}]),t}();e.default=I},function(t,e,n){var r=n(24),i=n(21);n(36)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(103),t.exports=n(0).Object.keys},function(t,e,n){"use strict";var r=n(6),i=n(41),u=n(65);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=u(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var r=n(6),i=n(0),u=n(4),o=n(67),s=n(64);r(r.P+r.R,"Promise",{finally:function(t){var e=o(this,i.Promise||u.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(4),i=n(0),u=n(12),o=n(10),s=n(3)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];o&&e&&!e[s]&&u.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(16);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){var r=n(4),i=n(66).set,u=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,a="process"==n(20)(o);t.exports=function(){var t,e,n,c=function(){var r,i;for(a&&(r=o.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(a)n=function(){o.nextTick(c)};else if(!u||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var f=s.resolve();n=function(){f.then(c)}}else n=function(){i.call(r,c)};else{var l=!0,d=document.createTextNode("");new u(c).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(19),i=n(69),u=n(68),o=n(7),s=n(51),a=n(43),c={},f={};(e=t.exports=function(t,e,n,l,d){var h,p,v,y,_=d?function(){return t}:a(t),m=r(n,l,e?2:1),g=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(u(_)){for(h=s(t.length);h>g;g++)if((y=e?m(o(p=t[g])[0],p[1]):m(t[g]))===c||y===f)return y}else for(v=_.call(t);!(p=v.next()).done;)if((y=i(v,m,p.value,e))===c||y===f)return y}).BREAK=c,e.RETURN=f},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var r,i,u,o,s=n(32),a=n(4),c=n(19),f=n(70),l=n(6),d=n(11),h=n(35),p=n(112),v=n(111),y=n(67),_=n(66).set,m=n(109)(),g=n(41),k=n(65),b=n(64),w=a.TypeError,x=a.process,O=a.Promise,I="process"==f(x),S=function(){},T=i=g.f,C=!!function(){try{var t=O.resolve(1),e=(t.constructor={})[n(3)("species")]=function(t){t(S,S)};return(I||"function"==typeof PromiseRejectionEvent)&&t.then(S)instanceof e}catch(t){}}(),j=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},M=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var r=t._v,i=1==t._s,u=0,o=function(e){var n,u,o=i?e.ok:e.fail,s=e.resolve,a=e.reject,c=e.domain;try{o?(i||(2==t._h&&N(t),t._h=1),!0===o?n=r:(c&&c.enter(),n=o(r),c&&c.exit()),n===e.promise?a(w("Promise-chain cycle")):(u=j(n))?u.call(n,s,a):s(n)):a(r)}catch(t){a(t)}};n.length>u;)o(n[u++]);t._c=[],t._n=!1,e&&!t._h&&E(t)})}},E=function(t){_.call(a,function(){var e,n,r,i=t._v,u=A(t);if(u&&(e=k(function(){I?x.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=I||A(t)?2:1),t._a=void 0,u&&e.e)throw e.v})},A=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){_.call(a,function(){var e;I?x.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},P=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),M(e,!0))},K=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=j(t))?m(function(){var r={_w:n,_d:!1};try{e.call(t,c(K,r,1),c(P,r,1))}catch(t){P.call(r,t)}}):(n._v=t,n._s=1,M(n,!1))}catch(t){P.call({_w:n,_d:!1},t)}}};C||(O=function(t){p(this,O,"Promise","_h"),h(t),r.call(this);try{t(c(K,this,1),c(P,this,1))}catch(t){P.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(108)(O.prototype,{then:function(t,e){var n=T(y(this,O));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=I?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new r;this.promise=t,this.resolve=c(K,t,1),this.reject=c(P,t,1)},g.f=T=function(t){return t===O||t===o?new u(t):i(t)}),l(l.G+l.W+l.F*!C,{Promise:O}),n(31)(O,"Promise"),n(107)("Promise"),o=n(0).Promise,l(l.S+l.F*!C,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(s||!C),"Promise",{resolve:function(t){return b(s&&this===o?O:this,t)}}),l(l.S+l.F*!(C&&n(63)(function(t){O.all(t).catch(S)})),"Promise",{all:function(t){var e=this,n=T(e),r=n.resolve,i=n.reject,u=k(function(){var n=[],u=0,o=1;v(t,!1,function(t){var s=u++,a=!1;n.push(void 0),o++,e.resolve(t).then(function(t){a||(a=!0,n[s]=t,--o||r(n))},i)}),--o||r(n)});return u.e&&i(u.v),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,i=k(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){n(73),n(33),n(49),n(113),n(106),n(105),t.exports=n(0).Promise},function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},o=u.iterator||"@@iterator",s=u.asyncIterator||"@@asyncIterator",a=u.toStringTag||"@@toStringTag",c="object"==typeof t,f=e.regeneratorRuntime;if(f)c&&(t.exports=f);else{(f=e.regeneratorRuntime=c?t.exports:{}).wrap=k;var l="suspendedStart",d="suspendedYield",h="executing",p="completed",v={},y={};y[o]=function(){return this};var _=Object.getPrototypeOf,m=_&&_(_(E([])));m&&m!==r&&i.call(m,o)&&(y=m);var g=O.prototype=w.prototype=Object.create(y);x.prototype=g.constructor=O,O.constructor=x,O[a]=x.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(g),t},f.awrap=function(t){return{__await:t}},I(S.prototype),S.prototype[s]=function(){return this},f.AsyncIterator=S,f.async=function(t,e,n,r){var i=new S(k(t,e,n,r));return f.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},I(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=E,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=e&&e<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=e,u?(this.method="next",this.next=u.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function k(t,e,n,r){var i=e&&e.prototype instanceof w?e:w,u=Object.create(i.prototype),o=new M(r||[]);return u._invoke=function(t,e,n){var r=l;return function(i,u){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw u;return A()}for(n.method=i,n.arg=u;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var a=b(t,e,n);if("normal"===a.type){if(r=n.done?p:d,a.arg===v)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=p,n.method="throw",n.arg=a.arg)}}}(t,n,o),u}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function x(){}function O(){}function I(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(n,r){function u(){return new Promise(function(e,u){!function e(n,r,u,o){var s=b(t[n],t,r);if("throw"!==s.type){var a=s.arg,c=a.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,u,o)},function(t){e("throw",t,u,o)}):Promise.resolve(c).then(function(t){a.value=t,u(a)},o)}o(s.arg)}(n,r,e,u)})}return e=e?e.then(u,u):u()}}function T(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,T(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=b(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var u=i.arg;return u?u.done?(e[t.resultName]=u.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):u:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,u=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return u.next=u}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,u=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(115),i)r.regeneratorRuntime=u;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(72),u=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,u.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(7),i=n(43);t.exports=n(0).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){n(49),n(33),t.exports=n(118)},function(t,e,n){var r=n(15),i=n(45).f;n(36)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){n(120);var r=n(0).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){t.exports={default:n(121),__esModule:!0}},function(t,e,n){"use strict";var r=n(21),i=n(46),u=n(30),o=n(24),s=n(77),a=Object.assign;t.exports=!a||n(18)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=a({},t)[n]||Object.keys(a({},e)).join("")!=r})?function(t,e){for(var n=o(t),a=arguments.length,c=1,f=i.f,l=u.f;a>c;)for(var d,h=s(arguments[c++]),p=f?r(h).concat(f(h)):r(h),v=p.length,y=0;v>y;)l.call(h,d=p[y++])&&(n[d]=h[d]);return n}:a},function(t,e,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(123)})},function(t,e,n){n(124),t.exports=n(0).Object.assign},function(t,e,n){t.exports={default:n(125),__esModule:!0}},function(t,e,n){var r=n(6);r(r.S+r.F*!n(10),"Object",{defineProperty:n(12).f})},function(t,e,n){n(127);var r=n(0).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(11),i=n(75).onFreeze;n(36)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){n(129),t.exports=n(0).Object.freeze},function(t,e,n){var r=n(6);r(r.S+r.F*!n(10),"Object",{defineProperties:n(79)})},function(t,e,n){n(131);var r=n(0).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,n){t.exports={default:n(132),__esModule:!0}},function(t,e,n){var r=n(0),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){var r=n(6);r(r.S,"Object",{create:n(52)})},function(t,e,n){n(135);var r=n(0).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){t.exports={default:n(136),__esModule:!0}},function(t,e,n){var r=n(11),i=n(7),u=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(19)(Function.call,n(45).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return u(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:u}},function(t,e,n){var r=n(6);r(r.S,"Object",{setPrototypeOf:n(138).set})},function(t,e,n){n(139),t.exports=n(0).Object.setPrototypeOf},function(t,e,n){t.exports={default:n(140),__esModule:!0}},function(t,e,n){n(47)("observable")},function(t,e,n){n(47)("asyncIterator")},function(t,e,n){var r=n(15),i=n(74).f,u={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==u.call(t)?function(t){try{return i(t)}catch(t){return o.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(20);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(21),i=n(46),u=n(30);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var o,s=n(t),a=u.f,c=0;s.length>c;)a.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,n){"use strict";var r=n(4),i=n(17),u=n(10),o=n(6),s=n(80),a=n(75).KEY,c=n(18),f=n(57),l=n(31),d=n(37),h=n(3),p=n(48),v=n(47),y=n(146),_=n(145),m=n(7),g=n(11),k=n(15),b=n(55),w=n(23),x=n(52),O=n(144),I=n(45),S=n(12),T=n(21),C=I.f,j=S.f,M=O.f,E=r.Symbol,A=r.JSON,N=A&&A.stringify,P=h("_hidden"),K=h("toPrimitive"),L={}.propertyIsEnumerable,U=f("symbol-registry"),R=f("symbols"),F=f("op-symbols"),q=Object.prototype,D="function"==typeof E,J=r.QObject,W=!J||!J.prototype||!J.prototype.findChild,G=u&&c(function(){return 7!=x(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=C(q,e);r&&delete q[e],j(t,e,n),r&&t!==q&&j(q,e,r)}:j,V=function(t){var e=R[t]=x(E.prototype);return e._k=t,e},z=D&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},B=function(t,e,n){return t===q&&B(F,e,n),m(t),e=b(e,!0),m(n),i(R,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=x(n,{enumerable:w(0,!1)})):(i(t,P)||j(t,P,w(1,{})),t[P][e]=!0),G(t,e,n)):j(t,e,n)},H=function(t,e){m(t);for(var n,r=y(e=k(e)),i=0,u=r.length;u>i;)B(t,n=r[i++],e[n]);return t},Y=function(t){var e=L.call(this,t=b(t,!0));return!(this===q&&i(R,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(R,t)||i(this,P)&&this[P][t])||e)},$=function(t,e){if(t=k(t),e=b(e,!0),t!==q||!i(R,e)||i(F,e)){var n=C(t,e);return!n||!i(R,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=M(k(t)),r=[],u=0;n.length>u;)i(R,e=n[u++])||e==P||e==a||r.push(e);return r},X=function(t){for(var e,n=t===q,r=M(n?F:k(t)),u=[],o=0;r.length>o;)!i(R,e=r[o++])||n&&!i(q,e)||u.push(R[e]);return u};D||(s((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===q&&e.call(F,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),G(this,t,w(1,n))};return u&&W&&G(q,t,{configurable:!0,set:e}),V(t)}).prototype,"toString",function(){return this._k}),I.f=$,S.f=B,n(74).f=O.f=Q,n(30).f=Y,n(46).f=X,u&&!n(32)&&s(q,"propertyIsEnumerable",Y,!0),p.f=function(t){return V(h(t))}),o(o.G+o.W+o.F*!D,{Symbol:E});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)h(Z[tt++]);for(var et=T(h.store),nt=0;et.length>nt;)v(et[nt++]);o(o.S+o.F*!D,"Symbol",{for:function(t){return i(U,t+="")?U[t]:U[t]=E(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!D,"Object",{create:function(t,e){return void 0===e?x(t):H(x(t),e)},defineProperty:B,defineProperties:H,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:X}),A&&o(o.S+o.F*(!D||c(function(){var t=E();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(g(e)||void 0!==t)&&!z(t))return _(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),r[1]=e,N.apply(A,r)}}),E.prototype[K]||n(16)(E.prototype,K,E.prototype.valueOf),l(E,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){n(147),n(73),n(143),n(142),t.exports=n(0).Symbol},function(t,e,n){t.exports={default:n(148),__esModule:!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r=n(151),i=n(150),u=n(22),o=n(15);t.exports=n(81)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),u.Arguments=u.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(53),i=Math.max,u=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):u(t,e)}},function(t,e,n){var r=n(15),i=n(51),u=n(153);t.exports=function(t){return function(e,n,o){var s,a=r(e),c=i(a.length),f=u(o,c);if(t&&n!=n){for(;c>f;)if((s=a[f++])!=s)return!0}else for(;c>f;f++)if((t||f in a)&&a[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){"use strict";var r=n(52),i=n(23),u=n(31),o={};n(16)(o,n(3)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),u(t,e+" Iterator")}},function(t,e,n){var r=n(53),i=n(59);t.exports=function(t){return function(e,n){var u,o,s=String(i(e)),a=r(n),c=s.length;return a<0||a>=c?t?"":void 0:(u=s.charCodeAt(a))<55296||u>56319||a+1===c||(o=s.charCodeAt(a+1))<56320||o>57343?t?s.charAt(a):u:t?s.slice(a,a+2):o-56320+(u-55296<<10)+65536}}},function(t,e,n){n(33),n(49),t.exports=n(48).f("iterator")},function(t,e,n){var r=n(24),i=n(84);n(36)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){n(158),t.exports=n(0).Object.getPrototypeOf},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Warp=void 0;var r=w(n(38)),i=w(n(34)),u=w(n(29)),o=w(n(28)),s=w(n(27)),a=w(n(2)),c=w(n(1)),f=(0,s.default)([""," as a string"],[""," as a string"]),l=(0,s.default)([""," as an optional string"],[""," as an optional string"]),d=(0,s.default)([""," as an optional number"],[""," as an optional number"]),h=w(n(26)),p=w(n(25)),v=w(n(102)),y=w(n(95)),_=w(n(94)),m=w(n(93)),g=w(n(88)),k=(w(n(61)),w(n(5))),b=n(13);function w(t){return t&&t.__esModule?t:{default:t}}var x=function(){function t(e){var n=e.platform,s=void 0===n?"browser":n,c=e.apiKey,w=e.masterKey,x=e.serverURL,O=e.api,I=e.sessionToken,S=e.currentUser,T=e.timeout,C=void 0===T?10:T,j=e.maxRequests,M=void 0===j?6:j,E=e.supportLegacy,A=void 0!==E&&E;if((0,a.default)(this,t),"browser"===s){if((0,h.default)(f,{apiKey:c}),(0,h.default)(l,{apiKey:c}),(0,h.default)(d,{timeout:C}),(0,h.default)(d,{maxRequests:M}),"string"!=typeof x)throw new k.default(k.default.Code.MissingConfiguration,"`serverURL` must be a string");"/"===x[x.length-1]&&(x=x.slice(0,x.length-2)),this._http=m.default.use("browser",{apiKey:c,masterKey:w,serverURL:x,timeout:C,maxRequests:M}),this._storage=g.default.use("browser",{prefix:x})}if("api"===s){if(void 0===O)throw new k.default(k.default.Code.MissingConfiguration,"`api` must be provided when using the api platform");this._http=m.default.use("api",{api:O,sessionToken:I,currentUser:S}),this._storage=g.default.use("api",{prefix:O.apiKey}),void 0!==I&&this._storage.set(b.InternalKeys.Auth.SessionToken,I),void 0!==S&&this._storage.set(b.InternalKeys.Auth.User,(0,o.default)(S.toJSON()))}this._supportLegacy=A;var N=function(t){function e(){return(0,a.default)(this,e),(0,i.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(p.default);this._object=N.initialize(this._http,this._storage,this._supportLegacy);var P=function(t){function e(){return(0,a.default)(this,e),(0,i.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(v.default);this._query=P.initialize(this._http,this._storage);var K=function(t){function e(){return(0,a.default)(this,e),(0,i.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(y.default);this._user=K.initialize(this._http,this._storage,this._supportLegacy);var L=function(t){function e(){return(0,a.default)(this,e),(0,i.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),e}(_.default);this._function=L.initialize(this._http,this._storage)}return(0,c.default)(t,[{key:"Object",get:function(){return this._object}},{key:"Query",get:function(){return this._query}},{key:"User",get:function(){return this._user}},{key:"Collection",get:function(){return this._collection}},{key:"Function",get:function(){return this._function}}]),t}(),O=function(){function t(){(0,a.default)(this,t)}return(0,c.default)(t,null,[{key:"initialize",value:function(t){this._instance=new x(t)}},{key:"instance",get:function(){if(void 0===this._instance)throw new k.default(k.default.Code.MissingConfiguration,"Warp must be initialized before it is used");return this._instance}},{key:"Object",get:function(){return this.instance.Object}},{key:"Query",get:function(){return this.instance.Query}},{key:"User",get:function(){return this.instance.User}},{key:"Collection",get:function(){return this.instance.Collection}},{key:"Function",get:function(){return this.instance.Function}}]),t}();e.default=O,e.Warp=x,"undefined"!=typeof window&&(window.Warp=O)}]);